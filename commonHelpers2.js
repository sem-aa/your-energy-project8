import{a as Y,s as g,b as v,c as de,d as ue,e as Z,F as s,I as x,r as F,g as ee,f as me,h as te,i as ye,j as fe}from"./assets/modal-rating-99bbafa1.js";import{S as ge,i as C,a as pe}from"./assets/vendor-eee4493b.js";const H=document.getElementById("to-top-btn"),O=document.querySelector(".btn-up");window==null||window.addEventListener("scroll",he);function he(){document.body.scrollTop>30||document.documentElement.scrollTop>30?O.style.display="flex":O.style.display="none"}H==null||H.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const oe=new ge({select:"#sorted-select",settings:{showSearch:!1},data:[{text:"Default sort",value:"default",class:"sorted-option"},{text:"Best Match",value:"best",class:"sorted-option"},{text:"Calories: lowest first",value:"calories-lowest",class:"sorted-option"},{text:"Calories: highest first",value:"calories-highest",class:"sorted-option"}]});function re({sortType:o,array:t}){let e;switch(o){case"default":e=t.toSorted((a,n)=>a.name.localeCompare(n.name));break;case"best":e=t.toSorted((a,n)=>n.rating-a.rating);break;case"calories-highest":e=t.toSorted((a,n)=>n.burnedCalories-a.burnedCalories);break;case"calories-lowest":e=t.toSorted((a,n)=>a.burnedCalories-n.burnedCalories);break;default:e=t.toSorted((a,n)=>a.name.localeCompare(n.name));break}return e}const R=document.querySelector(".search-box"),_=document.querySelector(".section-title_additional"),m=document.querySelector("button[data-muscles]"),b=document.querySelector("button[data-body]"),S=document.querySelector("button[data-equipment]"),p=document.querySelector("#category-list-container"),W=document.querySelector("#exercises-list-container"),D=document.querySelector(".exercises_pagination"),j=document.querySelector("#exercises"),ve=document.querySelector("#sorted-select"),$="visually-hidden",V="visually-hidden-ext",be=Y();let k;Object.keys(be).length||(k=s.muscles,g("filter",s.muscles));k=v("filter");function T(o){switch(o){case s.muscles:u(m);break;case s.body:u(b);break;case s.equipment:u(S);break;default:u(m);break}}T(k);k&&E(k);function E(o,t=1){de({filter:o,page:t,limit:x.equipmcategoriesent}).then(e=>{var a,n,c,i;(a=p==null?void 0:p.classList)==null||a.remove($),(n=W==null?void 0:W.classList)==null||n.add($),(c=R==null?void 0:R.classList)==null||c.add(V),(i=_==null?void 0:_.classList)==null||i.add($),oe.setSelected("default"),ve.classList.add(V),e.results.length?(p.innerHTML=ue(e),e.totalPages>1?(D.innerHTML=Z(e,o),ke()):D.innerHTML=""):p.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>'})}const Se=()=>{F(),g("filter",s.muscles),u(m),E(s.muscles)},Le=()=>{F(),g("filter",s.body),u(b),E(s.body)},we=()=>{F(),g("filter",s.equipment),u(S),E(s.equipment)};m==null||m.addEventListener("click",Se);b==null||b.addEventListener("click",Le);S==null||S.addEventListener("click",we);function u(o){const t=document.querySelectorAll(".active");t.length&&t.forEach(e=>{e.classList.remove("active")}),o.classList.add("active")}function ke(){document.querySelectorAll("button.page-num").forEach(function(t){t==null||t.addEventListener("click",function(e){j==null||j.scrollIntoView({block:"start",behavior:"smooth"}),E(e.target.dataset.filter,e.target.dataset.page)})})}const L=document.querySelector(".search-box"),q=document.querySelector(".search-input"),se=document.querySelector(".section-title_additional"),qe=document.querySelector("#title-category"),ae=document.querySelector("#category-list-container"),A=document.querySelector("#exercises-list-container"),z=document.querySelector(".exercises_pagination"),Ee=document.querySelector("#exercises"),w=document.querySelector("#sorted-select"),M="visually-hidden",d="visually-hidden-ext";let r={};const h=Y();function xe(){if(h.equipment&&(L.classList.remove(d),w.classList.remove(d),T(s.equipment),r.filter=s.equipment,r.category=v("equipment")),h.muscles&&(L.classList.remove(d),w.classList.remove(d),T(s.muscles),r.filter=s.muscles,r.category=v("muscles")),h.bodyparts&&(L.classList.remove(d),w.classList.remove(d),T(s.body),r.filter=s.body,r.category=v("bodyparts")),h.keyword){q.value=r.keyword=v("keyword");const{keyword:o,modalOpen:t,...e}=h;r.category=Object.values(e)[0],r.keywordsQuery=o}console.log(r.category),I({filter:r.filter,category:r.category,pageNum:1,keywordsQuery:r.keywordsQuery})}xe();L.addEventListener("submit",Ce);function Ce(o){o.preventDefault(),Te()&&(g("keyword",q.value),I({filter:r.filter,category:r.category,pageNum:1,keywordsQuery:q.value}))}function Te(){return q.value.trim()===""?(C.show({title:"Warning",message:"Please enter your search query.",position:"topRight",color:"yellow"}),!1):!0}ae.addEventListener("click",Me);async function Me(o){const t=o.target.closest(".exercises_category-item");t&&(!t.dataset.filter||!t.dataset.category||(ae.classList.add(M),A.classList.remove(M),L.classList.remove(d),w.classList.remove(d),se.classList.remove(M),q.value="",I({filter:t.dataset.filter,category:t.dataset.category}),F(),g(`${t.dataset.filter.toLowerCase().split(" ").join("")}`,`${t.dataset.category}`)))}async function I({sortType:o="default",filter:t,category:e,pageNum:a=1,keywordsQuery:n=""}){if(!t||!e)return;let c=n.trim().toLowerCase();switch(t){case s.muscles:r={muscles:e,category:e,filter:t,keyword:c,limit:x.exercises,page:a};break;case s.equipment:r={equipment:e,category:e,filter:t,keyword:c,limit:x.exercises,page:a};break;case s.body:r={bodypart:e,category:e,filter:t,keyword:c,limit:x.exercises,page:a};break}se.classList.remove(M);let i;w.addEventListener("change",l=>{i&&Ae(l,i)}),qe.innerHTML=e;const ie=(ee("favorites")||[]).map(l=>l._id);me(r).then(l=>{if(l.results.length){i=l.results;const le=re({sortType:oe.getSelected()[0],array:l.results});A.innerHTML=le.map(Q=>{let N=!1;return ie.includes(Q._id)&&(N=!0),te(Q,N)}).join("")}else A.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>';l.totalPages>1?(z.innerHTML=Z(l,t),Fe()):z.innerHTML=""})}function Ae(o,t){const e=o.target.value,a=re({sortType:e,array:t}),n=(ee("favorites")||[]).map(c=>c._id);A.innerHTML=a.map(c=>{let i=!1;return n.includes(c._id)&&(i=!0),te(c,i)}).join("")}function Fe(){document.querySelectorAll("button.page-num").forEach(function(t){t.addEventListener("click",function(e){Ee.scrollIntoView({block:"start",behavior:"smooth"}),I({filter:e.target.dataset.filter,category:r.category,pageNum:e.target.dataset.page,keywordsQuery:r.keyword})})})}const Ie=document.querySelector(".share-button"),U=document.querySelector(".share-button-hint");Ie.addEventListener("click",Be);function Be(o){const t=ye(),e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),U.textContent="Link copy!",setTimeout(()=>{U.textContent="Share exercises"},1e3)}const ne=document.querySelector(".footer-form");ne.addEventListener("submit",Pe);function Pe(o){o.preventDefault();const t={email:o.target.elements.email.value};ne.reset(),fe(t).then(e=>{switch(e.status){case 201:C.success({message:e.data.message});break;case 409:C.info({message:e.data.message});break;default:C.warning({message:"Sorry, something went wrong"});break}})}let G=document.querySelector(".hero-text");function ce(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768?G.innerText=`Transform your physique and embrace a healthier lifestyle with 
 our comprehensive fitness and nutrition support.`:G.innerText=`Transform your physique and embrace a healthier 
 lifestyle with our comprehensive fitness and nutrition 
 support.`}ce();window.addEventListener("resize",function(){ce()});const y={openModalBtn:document.querySelector("[data-modal-license-open]"),closeModalBtn:document.querySelector("[data-modal-license-close]"),modal:document.querySelector("[data-modal-license]"),body:document.querySelector("body")},B=()=>{y.modal.classList.toggle("is-hidden"),y.body.style.overflow="auto"},He=o=>{o.code==="Escape"&&B()};var X;(X=y.openModalBtn)==null||X.addEventListener("click",o=>{B(),window.addEventListener("keydown",He),y.body.style.overflow="hidden"});var J;(J=y.closeModalBtn)==null||J.addEventListener("click",B);y.modal.addEventListener("click",o=>{o.target===o.currentTarget&&B()});const f={openModalBtn:document.querySelector("[data-modal-privacy-open]"),closeModalBtn:document.querySelector("[data-modal-privacy-close]"),modal:document.querySelector("[data-modal-privacy]"),body:document.querySelector("body")},P=()=>{f.modal.classList.toggle("is-hidden"),f.body.style.overflow="auto"},Re=o=>{o.code==="Escape"&&P()};var K;(K=f.openModalBtn)==null||K.addEventListener("click",o=>{P(),window.addEventListener("keydown",Re),f.body.style.overflow="hidden"});f.closeModalBtn.addEventListener("click",P);f.modal.addEventListener("click",o=>{o.target===o.currentTarget&&P()});new pe(".swiper",{centeredSlides:!0,simulateTouch:!1,allowTouchMove:!1,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1100,effect:"fade",fadeEffect:{crossFade:!0}});
//# sourceMappingURL=commonHelpers2.js.map
