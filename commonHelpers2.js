import{a as G,s as f,b as v,c as ae,d as ne,e as X,F as r,I as x,r as T,g as J,f as ie,h as K,i as ce,j as le}from"./assets/modal-rating-68459682.js";import{S as de,i as E}from"./assets/vendor-c8b745b6.js";const I=document.getElementById("to-top-btn"),Q=document.querySelector(".btn-up");window==null||window.addEventListener("scroll",ue);function ue(){document.body.scrollTop>30||document.documentElement.scrollTop>30?Q.style.display="flex":Q.style.display="none"}I==null||I.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const Y=new de({select:"#sorted-select",settings:{showSearch:!1},data:[{text:"Default sort",value:"default",class:"sorted-option"},{text:"Best Match",value:"best",class:"sorted-option"},{text:"Calories: lowest first",value:"calories-lowest",class:"sorted-option"},{text:"Calories: highest first",value:"calories-highest",class:"sorted-option"}]});function Z({sortType:o,array:t}){let e;switch(o){case"default":e=t.toSorted((a,n)=>a.name.localeCompare(n.name));break;case"best":e=t.toSorted((a,n)=>n.rating-a.rating);break;case"calories-highest":e=t.toSorted((a,n)=>n.burnedCalories-a.burnedCalories);break;case"calories-lowest":e=t.toSorted((a,n)=>a.burnedCalories-n.burnedCalories);break;default:e=t.toSorted((a,n)=>a.name.localeCompare(n.name));break}return e}const P=document.querySelector(".search-box"),H=document.querySelector(".section-title_additional"),u=document.querySelector("button[data-muscles]"),p=document.querySelector("button[data-body]"),b=document.querySelector("button[data-equipment]"),g=document.querySelector("#category-list-container"),R=document.querySelector("#exercises-list-container"),N=document.querySelector(".exercises_pagination"),_=document.querySelector("#exercises"),me=document.querySelector("#sorted-select"),ye=G();let k;Object.keys(ye).length||(k=r.muscles,f("filter",r.muscles));k=v("filter");function C(o){switch(o){case r.muscles:d(u);break;case r.body:d(p);break;case r.equipment:d(b);break;default:d(u);break}}C(k);k&&q(k);function q(o,t=1){ae({filter:o,page:t,limit:x.equipmcategoriesent}).then(e=>{var a,n,i,c;(a=g==null?void 0:g.classList)==null||a.remove("visually-hidden"),(n=R==null?void 0:R.classList)==null||n.add("visually-hidden"),(i=P==null?void 0:P.classList)==null||i.add("visually-hidden-ext"),(c=H==null?void 0:H.classList)==null||c.add("visually-hidden"),Y.setSelected("default"),me.classList.add("visually-hidden-ext"),e.results.length?(g.innerHTML=ne(e),e.totalPages>1?(N.innerHTML=X(e,o),ve()):N.innerHTML=""):g.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>'})}const fe=()=>{T(),f("filter",r.muscles),d(u),q(r.muscles)},ge=()=>{T(),f("filter",r.body),d(p),q(r.body)},he=()=>{T(),f("filter",r.equipment),d(b),q(r.equipment)};u==null||u.addEventListener("click",fe);p==null||p.addEventListener("click",ge);b==null||b.addEventListener("click",he);function d(o){const t=document.querySelectorAll(".active");t.length&&t.forEach(e=>{e.classList.remove("active")}),o.classList.add("active")}function ve(){document.querySelectorAll("a.page-num").forEach(function(t){t==null||t.addEventListener("click",function(e){_==null||_.scrollIntoView({block:"start",behavior:"smooth"}),q(e.target.dataset.filter,e.target.dataset.page)})})}const S=document.querySelector(".search-box"),w=document.querySelector(".search-input"),pe=document.querySelector(".section-title_additional"),be=document.querySelector("#title-category"),ee=document.querySelector("#category-list-container"),M=document.querySelector("#exercises-list-container"),$=document.querySelector(".exercises_pagination"),Se=document.querySelector("#exercises"),L=document.querySelector("#sorted-select");let s={};const h=G();function Le(){if(h.equipment&&(S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),C(r.equipment),s.filter=r.equipment,s.category=v("equipment")),h.muscles&&(S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),C(r.muscles),s.filter=r.muscles,s.category=v("muscles")),h.bodyparts&&(S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),C(r.body),s.filter=r.body,s.category=v("bodyparts")),h.keyword){w.value=s.keyword=v("keyword");const{keyword:o,modalOpen:t,...e}=h;s.category=Object.values(e)[0],s.keywordsQuery=o}A({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:s.keywordsQuery})}Le();S.addEventListener("submit",ke);function ke(o){o.preventDefault(),we()&&(f("keyword",w.value),A({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:w.value}))}function we(){return w.value.trim()===""?(E.show({title:"Warning",message:"Please enter your search query.",position:"topRight",color:"yellow"}),!1):!0}ee.addEventListener("click",qe);async function qe(o){const t=o.target.closest(".exercises_category-item");t&&(!t.dataset.filter||!t.dataset.category||(ee.classList.add("visually-hidden"),M.classList.remove("visually-hidden"),S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),pe.classList.remove("visually-hidden"),w.value="",A({filter:t.dataset.filter,category:t.dataset.category}),T(),f(`${t.dataset.filter.toLowerCase().split(" ").join("")}`,`${t.dataset.category}`)))}async function A({sortType:o="default",filter:t,category:e,pageNum:a=1,keywordsQuery:n=""}){if(!t||!e)return;let i=n.trim().toLowerCase();switch(t){case r.muscles:s={muscles:e,category:e,filter:t,keyword:i,limit:x.exercises,page:a};break;case r.equipment:s={equipment:e,category:e,filter:t,keyword:i,limit:x.exercises,page:a};break;case r.body:s={bodypart:e,category:e,filter:t,keyword:i,limit:x.exercises,page:a};break}let c;L.addEventListener("change",l=>{c&&xe(l,c)}),be.innerHTML=e;const se=(J("favorites")||[]).map(l=>l._id);ie(s).then(l=>{if(l.results.length){c=l.results;const re=Z({sortType:Y.getSelected()[0],array:l.results});M.innerHTML=re.map(W=>{let j=!1;return se.includes(W._id)&&(j=!0),K(W,j)}).join("")}else M.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>';l.totalPages>1?($.innerHTML=X(l,t),Ee()):$.innerHTML=""})}function xe(o,t){const e=o.target.value,a=Z({sortType:e,array:t}),n=(J("favorites")||[]).map(i=>i._id);M.innerHTML=a.map(i=>{let c=!1;return n.includes(i._id)&&(c=!0),K(i,c)}).join("")}function Ee(){document.querySelectorAll("a.page-num").forEach(function(t){t.addEventListener("click",function(e){Se.scrollIntoView({block:"start",behavior:"smooth"}),A({filter:e.target.dataset.filter,category:s.category,pageNum:e.target.dataset.page,keywordsQuery:s.keyword})})})}const Ce=document.querySelector(".share-button"),D=document.querySelector(".share-button-hint-modal");Ce.addEventListener("click",Me);function Me(o){const t=ce(),e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),D.textContent="Link copy!",setTimeout(()=>{D.textContent="Share exercises"},1e3)}const te=document.querySelector(".footer-form");te.addEventListener("submit",Te);function Te(o){o.preventDefault();const t={email:o.target.elements.email.value};te.reset(),le(t).then(e=>{switch(e.status){case 201:E.success({message:e.data.message});break;case 409:E.info({message:e.data.message});break;default:E.warning({message:"Sorry, something went wrong"});break}})}let O=document.querySelector(".hero-text");function oe(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768?O.innerText=`Transform your physique and embrace a healthier lifestyle with 
 our comprehensive fitness and nutrition support.`:O.innerText=`Transform your physique and embrace a healthier 
 lifestyle with our comprehensive fitness and nutrition 
 support.`}oe();window.addEventListener("resize",function(){oe()});const m={openModalBtn:document.querySelector("[data-modal-license-open]"),closeModalBtn:document.querySelector("[data-modal-license-close]"),modal:document.querySelector("[data-modal-license]"),body:document.querySelector("body")},B=()=>{m.modal.classList.toggle("is-hidden"),m.body.style.overflow="auto"},Ae=o=>{o.code==="Escape"&&B()};var V;(V=m.openModalBtn)==null||V.addEventListener("click",o=>{B(),window.addEventListener("keydown",Ae),m.body.style.overflow="hidden"});var z;(z=m.closeModalBtn)==null||z.addEventListener("click",B);m.modal.addEventListener("click",o=>{o.target===o.currentTarget&&B()});const y={openModalBtn:document.querySelector("[data-modal-privacy-open]"),closeModalBtn:document.querySelector("[data-modal-privacy-close]"),modal:document.querySelector("[data-modal-privacy]"),body:document.querySelector("body")},F=()=>{y.modal.classList.toggle("is-hidden"),y.body.style.overflow="auto"},Be=o=>{o.code==="Escape"&&F()};var U;(U=y.openModalBtn)==null||U.addEventListener("click",o=>{F(),window.addEventListener("keydown",Be),y.body.style.overflow="hidden"});y.closeModalBtn.addEventListener("click",F);y.modal.addEventListener("click",o=>{o.target===o.currentTarget&&F()});
//# sourceMappingURL=commonHelpers2.js.map
