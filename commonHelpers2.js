import{g as Q,s as v,a as u,b as se,c as re,d as U,r as M,e as G,f as ae,h as J,i as ne,j as ie}from"./assets/modal-rating-b7708a83.js";import{S as ce,i as q}from"./assets/vendor-67ad3d10.js";const A=document.getElementById("to-top-btn"),j=document.querySelector(".btn-up");window==null||window.addEventListener("scroll",le);function le(){document.body.scrollTop>30||document.documentElement.scrollTop>30?j.style.display="flex":j.style.display="none"}A==null||A.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const K=new ce({select:"#sorted-select",settings:{showSearch:!1},data:[{text:"Default sort",value:"default",class:"sorted-option"},{text:"Best Match",value:"best",class:"sorted-option"},{text:"Calories: lowest first",value:"calories-lowest",class:"sorted-option"},{text:"Calories: highest first",value:"calories-highest",class:"sorted-option"}]});function X({sortType:e,array:o}){let t;switch(e){case"default":t=o.toSorted((s,a)=>s.name.localeCompare(a.name));break;case"best":t=o.toSorted((s,a)=>a.rating-s.rating);break;case"calories-highest":t=o.toSorted((s,a)=>a.burnedCalories-s.burnedCalories);break;case"calories-lowest":t=o.toSorted((s,a)=>s.burnedCalories-a.burnedCalories);break;default:t=o.toSorted((s,a)=>s.name.localeCompare(a.name));break}return t}const de=12,P=document.querySelector(".search-box"),F=document.querySelector(".section-title_additional"),m=document.querySelector("button[data-muscles]"),p=document.querySelector("button[data-body]"),b=document.querySelector("button[data-equipment]"),h=document.querySelector("#category-list-container"),H=document.querySelector("#exercises-list-container"),O=document.querySelector(".exercises_pagination"),I=document.querySelector("#exercises"),ue=document.querySelector("#sorted-select"),me=Q();let k;Object.keys(me).length||(k="Muscles",v("filter","Muscles"));k=u("filter");function E(e){switch(e){case"Muscles":l(m);break;case"Body parts":l(p);break;case"Equipment":l(b);break;default:l(m);break}}E(k);k&&w(k);function w(e,o=1){se({filter:e,page:o,limit:de}).then(t=>{var s,a,n,c;(s=h==null?void 0:h.classList)==null||s.remove("visually-hidden"),(a=H==null?void 0:H.classList)==null||a.add("visually-hidden"),(n=P==null?void 0:P.classList)==null||n.add("visually-hidden-ext"),(c=F==null?void 0:F.classList)==null||c.add("visually-hidden"),K.setSelected("default"),ue.classList.add("visually-hidden-ext"),t.results.length?(h.innerHTML=re(t),t.totalPages>1?(O.innerHTML=U(t,e),ve()):O.innerHTML=""):h.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>'})}const ye=()=>{M(),v("filter","Muscles"),l(m),w("Muscles")},fe=()=>{M(),v("filter","Body parts"),l(p),w("Body parts")},ge=()=>{M(),v("filter","Equipment"),l(b),w("Equipment")};m==null||m.addEventListener("click",ye);p==null||p.addEventListener("click",fe);b==null||b.addEventListener("click",ge);function l(e){document.querySelector(".active").classList.remove("active"),e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")}function ve(){document.querySelectorAll("a.page-num").forEach(function(o){o==null||o.addEventListener("click",function(t){I==null||I.scrollIntoView({block:"start",behavior:"smooth"}),w(t.target.dataset.filter,t.target.dataset.page)})})}const S=document.querySelector(".search-box"),y=document.querySelector(".search-input"),he=document.querySelector(".section-title_additional"),pe=document.querySelector("#title-category"),Y=document.querySelector("#category-list-container"),x=document.querySelector("#exercises-list-container"),$=document.querySelector(".exercises_pagination"),be=document.querySelector("#exercises"),L=document.querySelector("#sorted-select"),R=10;let r={};const d=Q();function Se(){if(d.equipment&&(S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),E("Equipment"),r.filter="Equipment",r.category=u("equipment")),d.muscles&&(S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),E("Muscles"),r.filter="Muscles",r.category=u("muscles")),d.bodyparts&&(S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),E("Body parts"),r.filter="Body parts",console.log(u("bodyparts")),r.category=u("bodyparts")),d.keyword){y.value=r.keyword=u("keyword"),console.log(d);const{keyword:e,modalOpen:o,...t}=d;r.category=Object.values(t)[0]}C({filter:r.filter,category:r.category,pageNum:1,keyword:y.value})}Se();S.addEventListener("submit",Le);function Le(e){e.preventDefault(),ke()&&(v("keyword",y.value),C({filter:r.filter,category:r.category,pageNum:1,keywordsQuery:y.value}))}function ke(){return y.value.trim()===""?(q.show({title:"Warning",message:"Please enter your search query.",position:"topRight",color:"yellow"}),!1):!0}Y.addEventListener("click",we);async function we(e){const o=e.target.closest(".exercises_category-item");o&&(!o.dataset.filter||!o.dataset.category||(Y.classList.add("visually-hidden"),x.classList.remove("visually-hidden"),S.classList.remove("visually-hidden-ext"),L.classList.remove("visually-hidden-ext"),he.classList.remove("visually-hidden"),y.value="",C({filter:o.dataset.filter,category:o.dataset.category}),M(),v(`${o.dataset.filter.toLowerCase().split(" ").join("")}`,`${o.dataset.category}`)))}async function C({sortType:e="default",filter:o,category:t,pageNum:s=1,keywordsQuery:a=""}){let n=a.trim().toLowerCase();switch(o){case"Muscles":r={muscles:t,category:t,filter:o,keyword:n,limit:R,page:s};break;case"Equipment":r={equipment:t,category:t,filter:o,keyword:n,limit:R,page:s};break;case"Body parts":r={bodypart:t,category:t,filter:o,keyword:n,limit:R,page:s};break}let c;L.addEventListener("change",i=>qe(i,c)),pe.innerHTML=t;const te=(G("favorites")||[]).map(i=>i._id);ae(r).then(i=>{if(i.results.length){c=i.results;const oe=X({sortType:K.getSelected()[0],array:i.results});x.innerHTML=oe.map(_=>{let W=!1;return te.includes(_._id)&&(W=!0),J(_,W)}).join("")}else x.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>';i.totalPages>1?($.innerHTML=U(i,o),Ee()):$.innerHTML=""})}function qe(e,o){const t=e.target.value,s=X({sortType:t,array:o}),a=(G("favorites")||[]).map(n=>n._id);x.innerHTML=s.map(n=>{let c=!1;return a.includes(n._id)&&(c=!0),J(n,c)}).join("")}function Ee(){document.querySelectorAll("a.page-num").forEach(function(o){o.addEventListener("click",function(t){be.scrollIntoView({block:"start",behavior:"smooth"}),C({filter:t.target.dataset.filter,category:r.category,pageNum:t.target.dataset.page,keywordsQuery:r.keyword})})})}const xe=document.querySelector(".share-button"),N=document.querySelector(".share-button-hint-modal");xe.addEventListener("click",Me);function Me(e){const o=ne(),t=document.createElement("input");t.value=o,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),N.textContent="Link copy!",setTimeout(()=>{N.textContent="Share exercises"},1e3)}const Z=document.querySelector(".footer-form");Z.addEventListener("submit",Ce);function Ce(e){e.preventDefault();const o={email:e.target.elements.email.value};Z.reset(),ie(o).then(t=>{switch(t.status){case 201:q.success({message:t.data.message});break;case 409:q.info({message:t.data.message});break;default:q.warning({message:"Sorry, something went wrong"});break}})}let D=document.querySelector(".hero-text");function ee(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768?D.innerText=`Transform your physique and embrace a healthier lifestyle with 
 our comprehensive fitness and nutrition support.`:D.innerText=`Transform your physique and embrace a healthier 
 lifestyle with our comprehensive fitness and nutrition 
 support.`}ee();window.addEventListener("resize",function(){ee()});const f={openModalBtn:document.querySelector("[data-modal-license-open]"),closeModalBtn:document.querySelector("[data-modal-license-close]"),modal:document.querySelector("[data-modal-license]"),body:document.querySelector("body")},T=()=>{f.modal.classList.toggle("is-hidden"),f.body.style.overflow="auto"},Te=e=>{e.code==="Escape"&&T()};var V;(V=f.openModalBtn)==null||V.addEventListener("click",e=>{T(),window.addEventListener("keydown",Te),f.body.style.overflow="hidden"});var z;(z=f.closeModalBtn)==null||z.addEventListener("click",T);f.modal.addEventListener("click",e=>{e.target===e.currentTarget&&T()});const g={openModalBtn:document.querySelectorAll("[data-modal-privacy-open]"),closeModalBtn:document.querySelector("[data-modal-privacy-close]"),modal:document.querySelector("[data-modal-privacy]"),body:document.querySelector("body")},B=()=>{g.modal.classList.toggle("is-hidden"),g.body.style.overflow="auto"},Be=e=>{e.code==="Escape"&&B()};g.openModalBtn.forEach(e=>e.addEventListener("click",o=>{B(),window.addEventListener("keydown",Be),g.body.style.overflow="hidden"}));g.closeModalBtn.addEventListener("click",B);g.modal.addEventListener("click",e=>{e.target===e.currentTarget&&B()});
//# sourceMappingURL=commonHelpers2.js.map
