import{a as G,s as f,b as v,c as ae,d as ne,e as X,F as r,I as E,r as M,g as J,f as ie,h as K,i as ce,j as le}from"./assets/modal-rating-f2e9838d.js";import{S as de,i as x,a as ue}from"./assets/vendor-eee4493b.js";const B=document.getElementById("to-top-btn"),Q=document.querySelector(".btn-up");window==null||window.addEventListener("scroll",me);function me(){document.body.scrollTop>30||document.documentElement.scrollTop>30?Q.style.display="flex":Q.style.display="none"}B==null||B.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const Y=new de({select:"#sorted-select",settings:{showSearch:!1},data:[{text:"Default sort",value:"default",class:"sorted-option"},{text:"Best Match",value:"best",class:"sorted-option"},{text:"Calories: lowest first",value:"calories-lowest",class:"sorted-option"},{text:"Calories: highest first",value:"calories-highest",class:"sorted-option"}]});function Z({sortType:o,array:t}){let e;switch(o){case"default":e=t.toSorted((a,n)=>a.name.localeCompare(n.name));break;case"best":e=t.toSorted((a,n)=>n.rating-a.rating);break;case"calories-highest":e=t.toSorted((a,n)=>n.burnedCalories-a.burnedCalories);break;case"calories-lowest":e=t.toSorted((a,n)=>a.burnedCalories-n.burnedCalories);break;default:e=t.toSorted((a,n)=>a.name.localeCompare(n.name));break}return e}const P=document.querySelector(".search-box"),H=document.querySelector(".section-title_additional"),u=document.querySelector("button[data-muscles]"),p=document.querySelector("button[data-body]"),b=document.querySelector("button[data-equipment]"),h=document.querySelector("#category-list-container"),R=document.querySelector("#exercises-list-container"),N=document.querySelector(".exercises_pagination"),_=document.querySelector("#exercises"),ye=document.querySelector("#sorted-select"),fe=G();let L;Object.keys(fe).length||(L=r.muscles,f("filter",r.muscles));L=v("filter");function C(o){switch(o){case r.muscles:d(u);break;case r.body:d(p);break;case r.equipment:d(b);break;default:d(u);break}}C(L);L&&q(L);function q(o,t=1){ae({filter:o,page:t,limit:E.equipmcategoriesent}).then(e=>{var a,n,i,c;(a=h==null?void 0:h.classList)==null||a.remove("visually-hidden"),(n=R==null?void 0:R.classList)==null||n.add("visually-hidden"),(i=P==null?void 0:P.classList)==null||i.add("visually-hidden-ext"),(c=H==null?void 0:H.classList)==null||c.add("visually-hidden"),Y.setSelected("default"),ye.classList.add("visually-hidden-ext"),e.results.length?(h.innerHTML=ne(e),e.totalPages>1?(N.innerHTML=X(e,o),pe()):N.innerHTML=""):h.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>'})}const he=()=>{M(),f("filter",r.muscles),d(u),q(r.muscles)},ge=()=>{M(),f("filter",r.body),d(p),q(r.body)},ve=()=>{M(),f("filter",r.equipment),d(b),q(r.equipment)};u==null||u.addEventListener("click",he);p==null||p.addEventListener("click",ge);b==null||b.addEventListener("click",ve);function d(o){const t=document.querySelectorAll(".active");t.length&&t.forEach(e=>{e.classList.remove("active")}),o.classList.add("active")}function pe(){document.querySelectorAll("button.page-num").forEach(function(t){t==null||t.addEventListener("click",function(e){_==null||_.scrollIntoView({block:"start",behavior:"smooth"}),q(e.target.dataset.filter,e.target.dataset.page)})})}const S=document.querySelector(".search-box"),k=document.querySelector(".search-input"),be=document.querySelector(".section-title_additional"),Se=document.querySelector("#title-category"),ee=document.querySelector("#category-list-container"),T=document.querySelector("#exercises-list-container"),O=document.querySelector(".exercises_pagination"),we=document.querySelector("#exercises"),w=document.querySelector("#sorted-select");let s={};const g=G();function Le(){if(g.equipment&&(S.classList.remove("visually-hidden-ext"),w.classList.remove("visually-hidden-ext"),C(r.equipment),s.filter=r.equipment,s.category=v("equipment")),g.muscles&&(S.classList.remove("visually-hidden-ext"),w.classList.remove("visually-hidden-ext"),C(r.muscles),s.filter=r.muscles,s.category=v("muscles")),g.bodyparts&&(S.classList.remove("visually-hidden-ext"),w.classList.remove("visually-hidden-ext"),C(r.body),s.filter=r.body,s.category=v("bodyparts")),g.keyword){k.value=s.keyword=v("keyword");const{keyword:o,modalOpen:t,...e}=g;s.category=Object.values(e)[0],s.keywordsQuery=o}A({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:s.keywordsQuery})}Le();S.addEventListener("submit",ke);function ke(o){o.preventDefault(),qe()&&(f("keyword",k.value),A({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:k.value}))}function qe(){return k.value.trim()===""?(x.show({title:"Warning",message:"Please enter your search query.",position:"topRight",color:"yellow"}),!1):!0}ee.addEventListener("click",Ee);async function Ee(o){const t=o.target.closest(".exercises_category-item");t&&(!t.dataset.filter||!t.dataset.category||(ee.classList.add("visually-hidden"),T.classList.remove("visually-hidden"),S.classList.remove("visually-hidden-ext"),w.classList.remove("visually-hidden-ext"),be.classList.remove("visually-hidden"),k.value="",A({filter:t.dataset.filter,category:t.dataset.category}),M(),f(`${t.dataset.filter.toLowerCase().split(" ").join("")}`,`${t.dataset.category}`)))}async function A({sortType:o="default",filter:t,category:e,pageNum:a=1,keywordsQuery:n=""}){if(!t||!e)return;let i=n.trim().toLowerCase();switch(t){case r.muscles:s={muscles:e,category:e,filter:t,keyword:i,limit:E.exercises,page:a};break;case r.equipment:s={equipment:e,category:e,filter:t,keyword:i,limit:E.exercises,page:a};break;case r.body:s={bodypart:e,category:e,filter:t,keyword:i,limit:E.exercises,page:a};break}let c;w.addEventListener("change",l=>{c&&xe(l,c)}),Se.innerHTML=e;const se=(J("favorites")||[]).map(l=>l._id);ie(s).then(l=>{if(l.results.length){c=l.results;const re=Z({sortType:Y.getSelected()[0],array:l.results});T.innerHTML=re.map(W=>{let j=!1;return se.includes(W._id)&&(j=!0),K(W,j)}).join("")}else T.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>';l.totalPages>1?(O.innerHTML=X(l,t),Ce()):O.innerHTML=""})}function xe(o,t){const e=o.target.value,a=Z({sortType:e,array:t}),n=(J("favorites")||[]).map(i=>i._id);T.innerHTML=a.map(i=>{let c=!1;return n.includes(i._id)&&(c=!0),K(i,c)}).join("")}function Ce(){document.querySelectorAll("button.page-num").forEach(function(t){t.addEventListener("click",function(e){we.scrollIntoView({block:"start",behavior:"smooth"}),A({filter:e.target.dataset.filter,category:s.category,pageNum:e.target.dataset.page,keywordsQuery:s.keyword})})})}const Te=document.querySelector(".share-button"),$=document.querySelector(".share-button-hint-modal");Te.addEventListener("click",Me);function Me(o){const t=ce(),e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),$.textContent="Link copy!",setTimeout(()=>{$.textContent="Share exercises"},1e3)}const te=document.querySelector(".footer-form");te.addEventListener("submit",Ae);function Ae(o){o.preventDefault();const t={email:o.target.elements.email.value};te.reset(),le(t).then(e=>{switch(e.status){case 201:x.success({message:e.data.message});break;case 409:x.info({message:e.data.message});break;default:x.warning({message:"Sorry, something went wrong"});break}})}let D=document.querySelector(".hero-text");function oe(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768?D.innerText=`Transform your physique and embrace a healthier lifestyle with 
 our comprehensive fitness and nutrition support.`:D.innerText=`Transform your physique and embrace a healthier 
 lifestyle with our comprehensive fitness and nutrition 
 support.`}oe();window.addEventListener("resize",function(){oe()});const m={openModalBtn:document.querySelector("[data-modal-license-open]"),closeModalBtn:document.querySelector("[data-modal-license-close]"),modal:document.querySelector("[data-modal-license]"),body:document.querySelector("body")},F=()=>{m.modal.classList.toggle("is-hidden"),m.body.style.overflow="auto"},Fe=o=>{o.code==="Escape"&&F()};var V;(V=m.openModalBtn)==null||V.addEventListener("click",o=>{F(),window.addEventListener("keydown",Fe),m.body.style.overflow="hidden"});var z;(z=m.closeModalBtn)==null||z.addEventListener("click",F);m.modal.addEventListener("click",o=>{o.target===o.currentTarget&&F()});const y={openModalBtn:document.querySelector("[data-modal-privacy-open]"),closeModalBtn:document.querySelector("[data-modal-privacy-close]"),modal:document.querySelector("[data-modal-privacy]"),body:document.querySelector("body")},I=()=>{y.modal.classList.toggle("is-hidden"),y.body.style.overflow="auto"},Ie=o=>{o.code==="Escape"&&I()};var U;(U=y.openModalBtn)==null||U.addEventListener("click",o=>{I(),window.addEventListener("keydown",Ie),y.body.style.overflow="hidden"});y.closeModalBtn.addEventListener("click",I);y.modal.addEventListener("click",o=>{o.target===o.currentTarget&&I()});new ue(".swiper",{centeredSlides:!0,simulateTouch:!1,allowTouchMove:!1,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},speed:1100,effect:"fade",fadeEffect:{crossFade:!0}});
//# sourceMappingURL=commonHelpers2.js.map
