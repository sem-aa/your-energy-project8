import{g as V,s as y,a as g,b as oe,c as se,d as z,r as M,e as U,f as re,h as G,i as ae,j as ne}from"./assets/modal-rating-eb570b6c.js";import{S as ie,i as q}from"./assets/vendor-916d32b4.js";const A=document.getElementById("to-top-btn"),j=document.querySelector(".btn-up");window==null||window.addEventListener("scroll",ce);function ce(){document.body.scrollTop>30||document.documentElement.scrollTop>30?j.style.display="flex":j.style.display="none"}A==null||A.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const J=new ie({select:"#sorted-select",settings:{showSearch:!1},data:[{text:"Default sort",value:"default",class:"sorted-option"},{text:"Best Match",value:"best",class:"sorted-option"},{text:"Calories: lowest first",value:"calories-lowest",class:"sorted-option"},{text:"Calories: highest first",value:"calories-highest",class:"sorted-option"}]});function K({sortType:t,array:o}){let e;switch(t){case"default":e=o.toSorted((r,a)=>r.name.localeCompare(a.name));break;case"best":e=o.toSorted((r,a)=>a.rating-r.rating);break;case"calories-highest":e=o.toSorted((r,a)=>a.burnedCalories-r.burnedCalories);break;case"calories-lowest":e=o.toSorted((r,a)=>r.burnedCalories-a.burnedCalories);break;default:e=o.toSorted((r,a)=>r.name.localeCompare(a.name));break}return e}const le=12,P=document.querySelector(".search-box"),F=document.querySelector(".section-title_additional"),d=document.querySelector("button[data-muscles]"),p=document.querySelector("button[data-body]"),v=document.querySelector("button[data-equipment]"),f=document.querySelector("#category-list-container"),H=document.querySelector("#exercises-list-container"),O=document.querySelector(".exercises_pagination"),I=document.querySelector("#exercises"),de=document.querySelector("#sorted-select"),ue=V();let L;Object.keys(ue).length||(L="Muscles",y("filter","Muscles"));L=g("filter");function E(t){switch(t){case"Muscles":l(d);break;case"Body parts":l(p);break;case"Equipment":l(v);break;default:l(d);break}}E(L);L&&w(L);function w(t,o=1){oe({filter:t,page:o,limit:le}).then(e=>{var r,a,n,i;(r=f==null?void 0:f.classList)==null||r.remove("visually-hidden"),(a=H==null?void 0:H.classList)==null||a.add("visually-hidden"),(n=P==null?void 0:P.classList)==null||n.add("visually-hidden-ext"),(i=F==null?void 0:F.classList)==null||i.add("visually-hidden"),J.setSelected("default"),de.classList.add("visually-hidden-ext"),e.results.length?(f.innerHTML=se(e),e.totalPages>1?(O.innerHTML=z(e,t),he()):O.innerHTML=""):f.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>'})}const me=()=>{M(),y("filter","Muscles"),l(d),w("Muscles")},ye=()=>{M(),y("filter","Body parts"),l(p),w("Body parts")},fe=()=>{M(),y("filter","Equipment"),l(v),w("Equipment")};d==null||d.addEventListener("click",me);p==null||p.addEventListener("click",ye);v==null||v.addEventListener("click",fe);function l(t){const o=document.querySelectorAll(".active");o.length&&o.forEach(e=>{e.classList.remove("active")}),t.classList.add("active")}function he(){document.querySelectorAll("a.page-num").forEach(function(o){o==null||o.addEventListener("click",function(e){I==null||I.scrollIntoView({block:"start",behavior:"smooth"}),w(e.target.dataset.filter,e.target.dataset.page)})})}const S=document.querySelector(".search-box"),k=document.querySelector(".search-input"),ge=document.querySelector(".section-title_additional"),pe=document.querySelector("#title-category"),X=document.querySelector("#category-list-container"),x=document.querySelector("#exercises-list-container"),Q=document.querySelector(".exercises_pagination"),ve=document.querySelector("#exercises"),b=document.querySelector("#sorted-select"),R=10;let s={};const h=V();function Se(){if(h.equipment&&(S.classList.remove("visually-hidden-ext"),b.classList.remove("visually-hidden-ext"),E("Equipment"),s.filter="Equipment",s.category=g("equipment")),h.muscles&&(S.classList.remove("visually-hidden-ext"),b.classList.remove("visually-hidden-ext"),E("Muscles"),s.filter="Muscles",s.category=g("muscles")),h.bodyparts&&(S.classList.remove("visually-hidden-ext"),b.classList.remove("visually-hidden-ext"),E("Body parts"),s.filter="Body parts",s.category=g("bodyparts")),h.keyword){k.value=s.keyword=g("keyword");const{keyword:t,modalOpen:o,...e}=h;s.category=Object.values(e)[0],s.keywordsQuery=t}C({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:s.keywordsQuery})}Se();S.addEventListener("submit",be);function be(t){t.preventDefault(),Le()&&(y("keyword",k.value),C({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:k.value}))}function Le(){return k.value.trim()===""?(q.show({title:"Warning",message:"Please enter your search query.",position:"topRight",color:"yellow"}),!1):!0}X.addEventListener("click",ke);async function ke(t){const o=t.target.closest(".exercises_category-item");o&&(!o.dataset.filter||!o.dataset.category||(X.classList.add("visually-hidden"),x.classList.remove("visually-hidden"),S.classList.remove("visually-hidden-ext"),b.classList.remove("visually-hidden-ext"),ge.classList.remove("visually-hidden"),k.value="",C({filter:o.dataset.filter,category:o.dataset.category}),M(),y(`${o.dataset.filter.toLowerCase().split(" ").join("")}`,`${o.dataset.category}`)))}async function C({sortType:t="default",filter:o,category:e,pageNum:r=1,keywordsQuery:a=""}){if(!o||!e)return;let n=a.trim().toLowerCase();switch(o){case"Muscles":s={muscles:e,category:e,filter:o,keyword:n,limit:R,page:r};break;case"Equipment":s={equipment:e,category:e,filter:o,keyword:n,limit:R,page:r};break;case"Body parts":s={bodypart:e,category:e,filter:o,keyword:n,limit:R,page:r};break}let i;b.addEventListener("change",c=>{i&&we(c,i)}),pe.innerHTML=e;const ee=(U("favorites")||[]).map(c=>c._id);re(s).then(c=>{if(c.results.length){i=c.results;const te=K({sortType:J.getSelected()[0],array:c.results});x.innerHTML=te.map(_=>{let W=!1;return ee.includes(_._id)&&(W=!0),G(_,W)}).join("")}else x.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>';c.totalPages>1?(Q.innerHTML=z(c,o),qe()):Q.innerHTML=""})}function we(t,o){const e=t.target.value,r=K({sortType:e,array:o}),a=(U("favorites")||[]).map(n=>n._id);x.innerHTML=r.map(n=>{let i=!1;return a.includes(n._id)&&(i=!0),G(n,i)}).join("")}function qe(){document.querySelectorAll("a.page-num").forEach(function(o){o.addEventListener("click",function(e){ve.scrollIntoView({block:"start",behavior:"smooth"}),C({filter:e.target.dataset.filter,category:s.category,pageNum:e.target.dataset.page,keywordsQuery:s.keyword})})})}const Ee=document.querySelector(".share-button"),$=document.querySelector(".share-button-hint-modal");Ee.addEventListener("click",xe);function xe(t){const o=ae(),e=document.createElement("input");e.value=o,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),$.textContent="Link copy!",setTimeout(()=>{$.textContent="Share exercises"},1e3)}const Y=document.querySelector(".footer-form");Y.addEventListener("submit",Me);function Me(t){t.preventDefault();const o={email:t.target.elements.email.value};Y.reset(),ne(o).then(e=>{switch(e.status){case 201:q.success({message:e.data.message});break;case 409:q.info({message:e.data.message});break;default:q.warning({message:"Sorry, something went wrong"});break}})}let N=document.querySelector(".hero-text");function Z(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768?N.innerText=`Transform your physique and embrace a healthier lifestyle with 
 our comprehensive fitness and nutrition support.`:N.innerText=`Transform your physique and embrace a healthier 
 lifestyle with our comprehensive fitness and nutrition 
 support.`}Z();window.addEventListener("resize",function(){Z()});const u={openModalBtns:document.querySelectorAll("[data-modal-license-open]"),closeModalBtn:document.querySelector("[data-modal-license-close]"),modal:document.querySelector("[data-modal-license]"),body:document.querySelector("body")},T=()=>{u.modal.classList.toggle("is-hidden"),u.body.style.overflow="auto"},Ce=t=>{t.code==="Escape"&&T()};u.openModalBtns.forEach(t=>t==null?void 0:t.addEventListener("click",o=>{T(),window.addEventListener("keydown",Ce),u.body.style.overflow="hidden"}));var D;(D=u.closeModalBtn)==null||D.addEventListener("click",T);u.modal.addEventListener("click",t=>{t.target===t.currentTarget&&T()});const m={openModalBtn:document.querySelectorAll("[data-modal-privacy-open]"),closeModalBtn:document.querySelector("[data-modal-privacy-close]"),modal:document.querySelector("[data-modal-privacy]"),body:document.querySelector("body")},B=()=>{m.modal.classList.toggle("is-hidden"),m.body.style.overflow="auto"},Te=t=>{t.code==="Escape"&&B()};m.openModalBtn.forEach(t=>t.addEventListener("click",o=>{B(),window.addEventListener("keydown",Te),m.body.style.overflow="hidden"}));m.closeModalBtn.addEventListener("click",B);m.modal.addEventListener("click",t=>{t.target===t.currentTarget&&B()});
//# sourceMappingURL=commonHelpers2.js.map
