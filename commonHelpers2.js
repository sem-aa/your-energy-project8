import{a as U,s as y,b as h,c as re,d as ae,e as G,r as M,g as J,f as ne,h as K,i as ie,j as ce}from"./assets/modal-rating-d3ea639e.js";import{S as le,i as q}from"./assets/vendor-916d32b4.js";const A=document.getElementById("to-top-btn"),j=document.querySelector(".btn-up");window==null||window.addEventListener("scroll",de);function de(){document.body.scrollTop>30||document.documentElement.scrollTop>30?j.style.display="flex":j.style.display="none"}A==null||A.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const X=new le({select:"#sorted-select",settings:{showSearch:!1},data:[{text:"Default sort",value:"default",class:"sorted-option"},{text:"Best Match",value:"best",class:"sorted-option"},{text:"Calories: lowest first",value:"calories-lowest",class:"sorted-option"},{text:"Calories: highest first",value:"calories-highest",class:"sorted-option"}]});function Y({sortType:o,array:t}){let e;switch(o){case"default":e=t.toSorted((r,a)=>r.name.localeCompare(a.name));break;case"best":e=t.toSorted((r,a)=>a.rating-r.rating);break;case"calories-highest":e=t.toSorted((r,a)=>a.burnedCalories-r.burnedCalories);break;case"calories-lowest":e=t.toSorted((r,a)=>r.burnedCalories-a.burnedCalories);break;default:e=t.toSorted((r,a)=>r.name.localeCompare(a.name));break}return e}const ue=12,P=document.querySelector(".search-box"),F=document.querySelector(".section-title_additional"),d=document.querySelector("button[data-muscles]"),p=document.querySelector("button[data-body]"),v=document.querySelector("button[data-equipment]"),f=document.querySelector("#category-list-container"),H=document.querySelector("#exercises-list-container"),O=document.querySelector(".exercises_pagination"),I=document.querySelector("#exercises"),me=document.querySelector("#sorted-select"),ye=U();let L;Object.keys(ye).length||(L="Muscles",y("filter","Muscles"));L=h("filter");function E(o){switch(o){case"Muscles":l(d);break;case"Body parts":l(p);break;case"Equipment":l(v);break;default:l(d);break}}E(L);L&&w(L);function w(o,t=1){re({filter:o,page:t,limit:ue}).then(e=>{var r,a,n,i;(r=f==null?void 0:f.classList)==null||r.remove("visually-hidden"),(a=H==null?void 0:H.classList)==null||a.add("visually-hidden"),(n=P==null?void 0:P.classList)==null||n.add("visually-hidden-ext"),(i=F==null?void 0:F.classList)==null||i.add("visually-hidden"),X.setSelected("default"),me.classList.add("visually-hidden-ext"),e.results.length?(f.innerHTML=ae(e),e.totalPages>1?(O.innerHTML=G(e,o),pe()):O.innerHTML=""):f.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>'})}const fe=()=>{M(),y("filter","Muscles"),l(d),w("Muscles")},ge=()=>{M(),y("filter","Body parts"),l(p),w("Body parts")},he=()=>{M(),y("filter","Equipment"),l(v),w("Equipment")};d==null||d.addEventListener("click",fe);p==null||p.addEventListener("click",ge);v==null||v.addEventListener("click",he);function l(o){const t=document.querySelectorAll(".active");t.length&&t.forEach(e=>{e.classList.remove("active")}),o.classList.add("active")}function pe(){document.querySelectorAll("a.page-num").forEach(function(t){t==null||t.addEventListener("click",function(e){I==null||I.scrollIntoView({block:"start",behavior:"smooth"}),w(e.target.dataset.filter,e.target.dataset.page)})})}const b=document.querySelector(".search-box"),k=document.querySelector(".search-input"),ve=document.querySelector(".section-title_additional"),be=document.querySelector("#title-category"),Z=document.querySelector("#category-list-container"),x=document.querySelector("#exercises-list-container"),Q=document.querySelector(".exercises_pagination"),Se=document.querySelector("#exercises"),S=document.querySelector("#sorted-select"),R=10;let s={};const g=U();function Le(){if(g.equipment&&(b.classList.remove("visually-hidden-ext"),S.classList.remove("visually-hidden-ext"),E("Equipment"),s.filter="Equipment",s.category=h("equipment")),g.muscles&&(b.classList.remove("visually-hidden-ext"),S.classList.remove("visually-hidden-ext"),E("Muscles"),s.filter="Muscles",s.category=h("muscles")),g.bodyparts&&(b.classList.remove("visually-hidden-ext"),S.classList.remove("visually-hidden-ext"),E("Body parts"),s.filter="Body parts",s.category=h("bodyparts")),g.keyword){k.value=s.keyword=h("keyword");const{keyword:o,modalOpen:t,...e}=g;s.category=Object.values(e)[0],s.keywordsQuery=o}C({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:s.keywordsQuery})}Le();b.addEventListener("submit",ke);function ke(o){o.preventDefault(),we()&&(y("keyword",k.value),C({filter:s.filter,category:s.category,pageNum:1,keywordsQuery:k.value}))}function we(){return k.value.trim()===""?(q.show({title:"Warning",message:"Please enter your search query.",position:"topRight",color:"yellow"}),!1):!0}Z.addEventListener("click",qe);async function qe(o){const t=o.target.closest(".exercises_category-item");t&&(!t.dataset.filter||!t.dataset.category||(Z.classList.add("visually-hidden"),x.classList.remove("visually-hidden"),b.classList.remove("visually-hidden-ext"),S.classList.remove("visually-hidden-ext"),ve.classList.remove("visually-hidden"),k.value="",C({filter:t.dataset.filter,category:t.dataset.category}),M(),y(`${t.dataset.filter.toLowerCase().split(" ").join("")}`,`${t.dataset.category}`)))}async function C({sortType:o="default",filter:t,category:e,pageNum:r=1,keywordsQuery:a=""}){if(!t||!e)return;let n=a.trim().toLowerCase();switch(t){case"Muscles":s={muscles:e,category:e,filter:t,keyword:n,limit:R,page:r};break;case"Equipment":s={equipment:e,category:e,filter:t,keyword:n,limit:R,page:r};break;case"Body parts":s={bodypart:e,category:e,filter:t,keyword:n,limit:R,page:r};break}let i;S.addEventListener("change",c=>{i&&Ee(c,i)}),be.innerHTML=e;const oe=(J("favorites")||[]).map(c=>c._id);ne(s).then(c=>{if(c.results.length){i=c.results;const se=Y({sortType:X.getSelected()[0],array:c.results});x.innerHTML=se.map(_=>{let W=!1;return oe.includes(_._id)&&(W=!0),K(_,W)}).join("")}else x.innerHTML='<li class="sorry-message"><p>Sorry, there are no exercises by your request.</p></li>';c.totalPages>1?(Q.innerHTML=G(c,t),xe()):Q.innerHTML=""})}function Ee(o,t){const e=o.target.value,r=Y({sortType:e,array:t}),a=(J("favorites")||[]).map(n=>n._id);x.innerHTML=r.map(n=>{let i=!1;return a.includes(n._id)&&(i=!0),K(n,i)}).join("")}function xe(){document.querySelectorAll("a.page-num").forEach(function(t){t.addEventListener("click",function(e){Se.scrollIntoView({block:"start",behavior:"smooth"}),C({filter:e.target.dataset.filter,category:s.category,pageNum:e.target.dataset.page,keywordsQuery:s.keyword})})})}const Me=document.querySelector(".share-button"),$=document.querySelector(".share-button-hint-modal");Me.addEventListener("click",Ce);function Ce(o){const t=ie(),e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),$.textContent="Link copy!",setTimeout(()=>{$.textContent="Share exercises"},1e3)}const ee=document.querySelector(".footer-form");ee.addEventListener("submit",Te);function Te(o){o.preventDefault();const t={email:o.target.elements.email.value};ee.reset(),ce(t).then(e=>{switch(e.status){case 201:q.success({message:e.data.message});break;case 409:q.info({message:e.data.message});break;default:q.warning({message:"Sorry, something went wrong"});break}})}let N=document.querySelector(".hero-text");function te(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>=768?N.innerText=`Transform your physique and embrace a healthier lifestyle with 
 our comprehensive fitness and nutrition support.`:N.innerText=`Transform your physique and embrace a healthier 
 lifestyle with our comprehensive fitness and nutrition 
 support.`}te();window.addEventListener("resize",function(){te()});const u={openModalBtn:document.querySelector("[data-modal-license-open]"),closeModalBtn:document.querySelector("[data-modal-license-close]"),modal:document.querySelector("[data-modal-license]"),body:document.querySelector("body")},T=()=>{u.modal.classList.toggle("is-hidden"),u.body.style.overflow="auto"},Be=o=>{o.code==="Escape"&&T()};var D;(D=u.openModalBtn)==null||D.addEventListener("click",o=>{T(),window.addEventListener("keydown",Be),u.body.style.overflow="hidden"});var V;(V=u.closeModalBtn)==null||V.addEventListener("click",T);u.modal.addEventListener("click",o=>{o.target===o.currentTarget&&T()});const m={openModalBtn:document.querySelector("[data-modal-privacy-open]"),closeModalBtn:document.querySelector("[data-modal-privacy-close]"),modal:document.querySelector("[data-modal-privacy]"),body:document.querySelector("body")},B=()=>{m.modal.classList.toggle("is-hidden"),m.body.style.overflow="auto"},Ae=o=>{o.code==="Escape"&&B()};var z;(z=m.openModalBtn)==null||z.addEventListener("click",o=>{B(),window.addEventListener("keydown",Ae),m.body.style.overflow="hidden"});m.closeModalBtn.addEventListener("click",B);m.modal.addEventListener("click",o=>{o.target===o.currentTarget&&B()});
//# sourceMappingURL=commonHelpers2.js.map
