{"version":3,"file":"commonHelpers2.js","sources":["../src/js/categories.js","../src/js/subscription.js","../src/js/modal.js","../src/helpers/updateRating.js","../src/js/modal-exercises.js","../src/js/index.js"],"sourcesContent":["import { getFilters } from '../services/api';\nimport {\n  createCategoryCardListMarkup,\n  createPaginationMarkup,\n} from '../helpers/markup';\n\nconst itemsOnPage = 12;\n\nconst musclesFilterBtn = document.querySelector('button[data-muscles]');\nconst bodyFilterBtn = document.querySelector('button[data-body]');\nconst equipmentFilterBtn = document.querySelector('button[data-equipment]');\nconst exCategoryContainer = document.querySelector('.exercises_category-list');\nconst paginationContainer = document.querySelector('.exercises_pagination');\n\nsetFilteredCategoryList('Muscles');\n\nfunction setFilteredCategoryList(filter, page = 1) {\n  getFilters({ filter: filter, page: page, limit: itemsOnPage }).then(\n    response => {\n      if (response.results.length) {\n        exCategoryContainer.innerHTML = createCategoryCardListMarkup(response);\n\n        if (response.totalPages > 1) {\n          paginationContainer.innerHTML = createPaginationMarkup(\n            response,\n            filter\n          );\n          handlePagination();\n        } else {\n          paginationContainer.innerHTML = '';\n        }\n      } else {\n        exCategoryContainer.innerHTML = `<li class=\"sorry-message\"><p>Sorry, there is no exercises by your request.</p></li>`;\n      }\n    }\n  );\n}\n\nconst onMusclesFilterClick = () => {\n  toggleActiveStatus(musclesFilterBtn);\n  setFilteredCategoryList('Muscles');\n};\n\nconst onBodyFilterClick = () => {\n  toggleActiveStatus(bodyFilterBtn);\n\n  setFilteredCategoryList('Body parts');\n};\n\nconst onEquipmentFilterClick = () => {\n  toggleActiveStatus(equipmentFilterBtn);\n  setFilteredCategoryList('Equipment');\n};\n\nmusclesFilterBtn.addEventListener('click', onMusclesFilterClick);\nbodyFilterBtn.addEventListener('click', onBodyFilterClick);\nequipmentFilterBtn.addEventListener('click', onEquipmentFilterClick);\n\nfunction toggleActiveStatus(btn) {\n  const activeBtn = document.querySelector('.active');\n  activeBtn.classList.remove('active');\n  if (btn.classList.contains('active')) {\n    btn.classList.remove('active');\n  } else {\n    btn.classList.add('active');\n  }\n}\n\nfunction handlePagination() {\n  let elementsArray = document.querySelectorAll('a.page-num');\n\n  elementsArray.forEach(function (elem) {\n    elem.addEventListener('click', function (e) {\n      setFilteredCategoryList(e.target.dataset.filter, e.target.dataset.page);\n    });\n  });\n}\n","import { subscribe } from '../services/api';\nimport iziToast from 'izitoast';\n\nconst subscribeFormRef = document.querySelector('.footer-form');\n\nsubscribeFormRef.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const req = {\n    email: e.target.elements.email.value,\n  };\n  subscribeFormRef.reset();\n  subscribe(req).then(res => {    \n    switch (res.status) {\n      case 201:\n        iziToast.success({\n          message: res.data.message\n        })        \n        break;\n      case 409:\n        iziToast.info({\n          message: res.data.message\n        })        \n        break;\n      default:\n        iziToast.warning({\n          message: 'Sorry, something went wrong'\n        })       \n        break;\n    }    \n  });\n}\n","const elements = {\n  openModalButton: document.querySelector('.open-modal'),\n  modalExercises: document.querySelector('.modal-exercises'),\n};\n\nexport function modal() {\n  if (elements.openModalButton && elements.modalExercises) {\n    document.addEventListener('DOMContentLoaded', function () {\n      elements.openModalButton.addEventListener('click', openModal);\n      elements.modalExercises.addEventListener('click', handleModalClick);\n    });\n  } else {\n    console.error(\n      'One or more elements not found. Check your HTML and selectors.'\n    );\n  }\n\n  function openModal() {\n    elements.modalExercises.classList.remove('visually-hidden');\n  }\n\n  function handleModalClick(event) {\n    const closeButton = event.target.closest('.modal-exercises__button-close');\n\n    if (closeButton) {\n      elements.modalExercises.classList.add('visually-hidden');\n    } else if (event.target === elements.modalExercises) {\n      elements.modalExercises.classList.add('visually-hidden');\n    }\n  }\n}\n","export function updateRating(value) {\n  const stars = document.querySelectorAll(\n    '#rating .modal-exercises__rating-star'\n  );\n  stars.forEach(star => {\n    const starValue = parseInt(star.dataset.value, 10);\n    let percentFilled = 0;\n\n    if (starValue <= value) {\n      percentFilled = 100;\n    } else if (starValue - value < 1) {\n      percentFilled = (value - starValue + 1) * 100;\n    }\n\n    star.style.background = `linear-gradient(to right, gold ${percentFilled}%, gray ${percentFilled}%)`;\n    star.style.webkitBackgroundClip = 'text';\n    star.style.color = 'transparent';\n  });\n}\n","import { getExerciseId } from '../services/api';\nimport { modal } from './modal';\nimport { updateRating } from '../helpers/updateRating';\nimport { addFavoriteCardToLocal } from '../helpers/functions';\n\nmodal();\n\nconst card = document.querySelector('.modal-exercises');\n\nexport async function modalExercises() {\n  try {\n    const cardData = await getExerciseId('64f389465ae26083f39b17a2');\n    card.innerHTML = createModalExercisesMarkup(cardData);\n\n    updateRating(cardData.rating);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport function createModalExercisesMarkup(cardData) {\n  const {\n    name,\n    burnedCalories,\n    bodyPart,\n    description,\n    target,\n    equipment,\n    gifUrl,\n    popularity,\n    rating,\n    time,\n    _id,\n  } = cardData;\n\n  return `<div class=\"modal-exercises__card\">\n    <button type=\"button\" class=\"modal-exercises__button-close\">\n      <svg class=\"modal-exercises__button-icon\" width=\"12\" height=\"12\">\n        <use href=\"./images/icons.svg#icon-button-close\"></use>\n      </svg>\n    </button>\n    <div class=\"modal-exercises__image-wrapper\">\n      <img class=\"modal-exercises__image\" src=\"${gifUrl}\" alt=\"${name}\" />\n    </div>\n    <div class=\"modal-exercises__description\">\n      <p class=\"modal-exercises__name\">${name}</p>\n      <div id=\"rating\" class=\"modal-exercises__rating\">\n        <div class=\"modal-exercises__rating-value\">${rating}</div>\n        <span class=\"modal-exercises__rating-star\" data-value=\"1\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"2\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"3\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"4\">&#9733;</span>\n        <span class=\"modal-exercises__rating-star\" data-value=\"5\">&#9733;</span>\n      </div>\n      <div class=\"modal-exercises__partials\">\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Target</p>\n          <p class=\"modal-exercises__partials-value\">${target}</p>\n        </div>\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Body Part</p>\n          <p class=\"modal-exercises__partials-value\">${bodyPart}</p>\n        </div>\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Equipment</p>\n          <p class=\"modal-exercises__partials-value\">${equipment}</p>\n        </div>\n        <div class=\"modal-exercises__partials-title\">\n          <p class=\"modal-exercises__partials-title\">Popular</p>\n          <p class=\"modal-exercises__partials-value\">${popularity}</p>\n        </div>\n        <div class=\"modal-exercises__partials-item\">\n          <p class=\"modal-exercises__partials-title\">Burned calories</p>\n          <p class=\"modal-exercises__partials-value\">${burnedCalories}/${time} min</p>\n        </div>\n      </div>\n      <p class=\"modal-exercises__text\">\n        ${description}\n      </p>\n      <div class=\"modal-exercises__buttons\">\n        <button type=\"submit\" class=\"modal-exercises__button-favourites\">\n          Add to favorites\n          <svg\n            class=\"modal-exercises__button-favourites_icon\"\n            width=\"20\"\n            height=\"20\"\n          >\n            <use href=\"./images/icons.svg#icon-heart\"></use>\n          </svg>\n        </button>\n        <button class=\"modal-exercises__button-rating\">Give a rating</button>\n      </div>\n    </div>\n  </div>`;\n}\n","import './categories';\r\nimport './favorites';\r\n\r\nimport './subscription';\r\n\r\nimport { modalExercises } from './modal-exercises';\r\n\r\nmodalExercises();\r\n\r\n"],"names":["itemsOnPage","musclesFilterBtn","bodyFilterBtn","equipmentFilterBtn","exCategoryContainer","paginationContainer","setFilteredCategoryList","filter","page","getFilters","response","createCategoryCardListMarkup","createPaginationMarkup","handlePagination","onMusclesFilterClick","toggleActiveStatus","onBodyFilterClick","onEquipmentFilterClick","btn","elem","e","subscribeFormRef","handleSubmit","req","subscribe","res","iziToast","elements","modal","openModal","handleModalClick","event","updateRating","value","star","starValue","percentFilled","card","modalExercises","cardData","getExerciseId","createModalExercisesMarkup","error","name","burnedCalories","bodyPart","description","target","equipment","gifUrl","popularity","rating","time","_id"],"mappings":"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"}