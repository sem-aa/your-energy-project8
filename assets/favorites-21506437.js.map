{"version":3,"file":"favorites-21506437.js","sources":["../../src/services/api.js","../../src/helpres/markup.js","../../src/helpres/functions.js","../../src/js/favorites.js"],"sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://your-energy.b.goit.study/api/';\r\n\r\nexport const getPhraseDay = async () => {\r\n  const res = await axios.get('quote');\r\n  return res.data;\r\n};\r\n\r\nexport const getFilters = async ({\r\n  filter = '',\r\n  page = 1,\r\n  limit = 12,\r\n} = {}) => {\r\n  try {\r\n    const res = await axios.get(\r\n      `filters?filter=${filter}&page=${page}&limit=${limit}`\r\n    );\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error('Error in getFilters:', error);\r\n  }\r\n};\r\n\r\nexport const getExercises = async ({\r\n  bodypart = '',\r\n  muscles = '',\r\n  equipment = '',\r\n  keyword = '',\r\n  page = 1,\r\n  limit = 10,\r\n} = {}) => {\r\n  try {\r\n    const res = await axios.get(\r\n      `exercises?bodypart=${bodypart}&muscles=${muscles}&equipment=${equipment}&keyword=${keyword}&page=${page}&limit=${limit}`\r\n    );\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error('Error in getExercises:', error);\r\n  }\r\n};\r\n\r\nexport const getExerciseId = async exerciseId => {\r\n  try {\r\n    const res = await axios.get(`exercises/${exerciseId}`);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error('Error in getExerciseId:', error);\r\n  }\r\n};\r\n\r\nexport const updateRaring = async exerciseId => {\r\n  try {\r\n    const res = await axios.patch(`exercises/${exerciseId}/rating`);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error('Error in getExerciseId:', error);\r\n  }\r\n};\r\n\r\nexport const subscribe = async email => {\r\n  try {\r\n    const res = await axios.post('subscription', email);\r\n    return res;\r\n  } catch (error) {\r\n    console.error('Error in subscribe:', error);\r\n    return error.response;\r\n  }\r\n};\r\n","const createMarkupForChangableIcon = isFavorite => {\n  const markupForIcon = isFavorite\n    ? '<button type=\"button\" class=\"remove-btn\" id=\"remove-favorite-btn\"><svg class=\"changeble-icon\" width=\"16\" height=\"16\"><use href=\"../public/oleksii-symbol-defs.svg#icon-trash\"></use></svg></button>'\n    : '<div class=\"icon-rating-container\"><p class=\"rating-info-card\">4.0</p><svg class=\"changeble-icon\" width=\"18\" height=\"18\"><use href=\"../public/oleksii-symbol-defs.svg#icon-star\"></use></svg></div>';\n\n  return markupForIcon;\n};\n\nexport const createInfoCardMarkup = (cardData, isFavorite = false) => {\n  const { name, burnedCalories, bodyPart, target, _id } = cardData;\n\n  return `<li class=\"favorite-info-card\" data-id=${_id}>\n      <div class=\"card-header\">\n        <div class=\"category-and-icon\">\n          <div class=\"category-tag\"><p>Workout</p></div>\n          ${createMarkupForChangableIcon(isFavorite)}\n        </div>\n        <div>\n          <button type=\"button\" class=\"start-btn\">\n            <p>Start</p>\n            <svg width=\"16\" height=\"16\">\n              <use href=\"../public/oleksii-symbol-defs.svg#icon-arrow\"></use>\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div class=\"card-title-container\">\n         <svg width=\"24\" height=\"24\">\n          <use href=\"../public/oleksii-symbol-defs.svg#icon-man\"></use>\n        </svg>\n        <h3 class=\"card-title\">${name}</h3>\n      </div>\n      <ul class=\"card-info-list\">\n        <li>\n          <p class=\"item-text\">\n            Burned calories: <em class=\"hidden-overflow-text\">${burnedCalories}/3<strong>min</strong></em>\n          </p>\n        </li>\n        <li>\n          <p class=\"item-text\">Body part: <em>${bodyPart}</em></p>\n        </li>\n        <li>\n          <p class=\"item-text\">Target: <em>${target}</em></p>\n        </li>\n      </ul>\n    </li>`;\n};\n","export const removeFavoriteCardFromLocal = removedId => {\r\n  const prevFavoriteCards = getFromLocal(KEY_STORAGE.favorites);\r\n\r\n  if (!prevFavoriteCards) {\r\n    alert('Oops! Refresh page');\r\n    return;\r\n  }\r\n  const newFavoriteCards = prevFavoriteCards.filter(\r\n    ({ _id }) => _id !== removedId\r\n  );\r\n\r\n  saveToLocal(KEY_STORAGE.favorites, newFavoriteCards);\r\n};\r\n","import { getExercises } from '../services/api';\nimport { createInfoCardMarkup } from '../helpres/markup';\nimport { removeFavoriteCardFromLocal } from '../helpres/functions';\n\nconst favoritesList = document.getElementById('favorite-cards-list');\n\nconsole.log(favoritesList);\ngetExercises().then(data => {\n  console.log(data.results[0]);\n  const test = createInfoCardMarkup(data.results[0]);\n  favoritesList.insertAdjacentHTML('beforeend', test);\n});\n\nconst handleDeleteFavoriteCard = ({ target }) => {\n  if (!target.closest('#remove-favorite-btn')) return;\n  const id = target.closest('[data-id=\"64f389465ae26083f39b17b7\"]').dataset.id;\n  console.log(id);\n  removeFavoriteCardFromLocal(id);\n};\n\nfavoritesList.addEventListener('click', handleDeleteFavoriteCard);\n"],"names":["axios","getExercises","bodypart","muscles","equipment","keyword","page","limit","error","getExerciseId","exerciseId","subscribe","email","createMarkupForChangableIcon","isFavorite","createInfoCardMarkup","cardData","name","burnedCalories","bodyPart","target","_id","removeFavoriteCardFromLocal","removedId","prevFavoriteCards","newFavoriteCards","favoritesList","data","test","handleDeleteFavoriteCard","id"],"mappings":"0uBAEAA,EAAM,SAAS,QAAU,wCAsBlB,MAAMC,EAAe,MAAO,CACjC,SAAAC,EAAW,GACX,QAAAC,EAAU,GACV,UAAAC,EAAY,GACZ,QAAAC,EAAU,GACV,KAAAC,EAAO,EACP,MAAAC,EAAQ,EACV,EAAI,KAAO,CACT,GAAI,CAIF,OAHY,MAAMP,EAAM,IACtB,sBAAsBE,aAAoBC,eAAqBC,aAAqBC,UAAgBC,WAAcC,GACxH,GACe,IACZ,OAAQC,EAAP,CACA,QAAQ,MAAM,yBAA0BA,CAAK,CAC9C,CACH,EAEaC,EAAgB,MAAMC,GAAc,CAC/C,GAAI,CAEF,OADY,MAAMV,EAAM,IAAI,aAAaU,GAAY,GAC1C,IACZ,OAAQF,EAAP,CACA,QAAQ,MAAM,0BAA2BA,CAAK,CAC/C,CACH,EAWaG,EAAY,MAAMC,GAAS,CACtC,GAAI,CAEF,OADY,MAAMZ,EAAM,KAAK,eAAgBY,CAAK,CAEnD,OAAQJ,EAAP,CACA,eAAQ,MAAM,sBAAuBA,CAAK,EACnCA,EAAM,QACd,CACH,ECpEMK,EAA+BC,GACbA,EAClB,sMACA,sMAKOC,EAAuB,CAACC,EAAUF,EAAa,KAAU,CACpE,KAAM,CAAE,KAAAG,EAAM,eAAAC,EAAgB,SAAAC,EAAU,OAAAC,EAAQ,IAAAC,CAAK,EAAGL,EAExD,MAAO,0CAA0CK;AAAA;AAAA;AAAA;AAAA,YAIvCR,EAA6BC,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAelBG;AAAA;AAAA;AAAA;AAAA;AAAA,gEAK+BC;AAAA;AAAA;AAAA;AAAA,gDAIhBC;AAAA;AAAA;AAAA,6CAGHC;AAAA;AAAA;AAAA,UAI7C,EC9CaE,EAA8BC,GAAa,CACtD,MAAMC,EAAoB,aAAa,YAAY,SAAS,EAE5D,GAAI,CAACA,EAAmB,CACtB,MAAM,oBAAoB,EAC1B,MACD,CACD,MAAMC,EAAmBD,EAAkB,OACzC,CAAC,CAAE,IAAAH,KAAUA,IAAQE,CACzB,EAEE,YAAY,YAAY,UAAWE,CAAgB,CACrD,ECRMC,EAAgB,SAAS,eAAe,qBAAqB,EAEnE,QAAQ,IAAIA,CAAa,EACzBzB,EAAc,EAAC,KAAK0B,GAAQ,CAC1B,QAAQ,IAAIA,EAAK,QAAQ,EAAE,EAC3B,MAAMC,EAAOb,EAAqBY,EAAK,QAAQ,EAAE,EACjDD,EAAc,mBAAmB,YAAaE,CAAI,CACpD,CAAC,EAED,MAAMC,EAA2B,CAAC,CAAE,OAAAT,KAAa,CAC/C,GAAI,CAACA,EAAO,QAAQ,sBAAsB,EAAG,OAC7C,MAAMU,EAAKV,EAAO,QAAQ,sCAAsC,EAAE,QAAQ,GAC1E,QAAQ,IAAIU,CAAE,EACdR,EAA4BQ,CAAE,CAChC,EAEAJ,EAAc,iBAAiB,QAASG,CAAwB"}